
<section class="hero is-success">
<div class="hero-body">
    <h1 class="title"><%=params[:content]%>資料一覧</h1>
</div>
</section>
<input id="type-nav" value="<%= @nav %>" type="hidden"/>
<section>
    <div class="container" style="margin-top:5%;">
        <div class="tabs">
            <ul>
                <li id="all" name="nav"><%= link_to "All",{controller:"document",action:"index",content:params[:content],group:"all",pagenation:1},data: { turbo_method: :post } %></li>
                <li id="difficult" name="nav"><%=link_to "重要",document_index_path(content:params[:content],group:"difficult",pagenation:1)%></li>
                <li id="medium" name="nav"><%=link_to "普通",document_index_path(content:params[:content],group:"medium",pagenation:1)%></li>
                <li id="easy" name="nav"><%=link_to "そんなに",document_index_path(content:params[:content],group:"easy",pagenation:1)%></li>
            </ul>
        </div>
        <div class="parent">
            <button class="item button" id="item2" onclick="DeleteDoc()"><%= link_to '作成' ,new_document_path(content:params[:content]) %></button>
            <button class="item button" id="item" onclick="DeleteDoc()"><ion-icon name="trash-outline"></ion-icon></button>
        </div>
        <article class="panel is-primary">
            <% @document.slice((@pagenation-1)*12...@pagenation*12).each do |d|%>
                <div class="panel-block">
                    <input type="checkbox" value= "<%=d.id%>" name="options" onclick="DeleteBtnActive()">
                    <span class="panel-icon">
                        <ion-icon name="bookmark-outline"></ion-icon>
                    </span>
                    <%= link_to d.title,document_path(d.id,content:params[:content])%>
                    <div style="display:none;">
                        <%= button_to "削除",document_path(id:d.id,content:params[:content],pagenation:params[:pagenation]),{method: :delete,id:d.id ,form:{data: {turbo_confirm:"削除しますか?"}}}%>
                        <%= link_to "更新",edit_document_path(d.id,content:params[:content],pagenation:params[:pagenation])%>
                    </div>
                </div>
            <%end%>
        </article>
    </div>
    
    <footer class="footer">
        <div class="content has-text-centered">
            <nav class="pagination is-centered" role="navigation" aria-label="pagination">
                <a class="pagination-previous" id="prev" href="./index?content=<%=@parameter%>&group=<%=@params%>&pagenation=<%=@pagenation-1%>">Previous</a>
                <a class="pagination-next" id="next" href="./index?content=<%=@parameter%>&group=<%=@params%>&pagenation=<%=@pagenation+1%>">Next page</a>
                <ul class="pagination-list">
                    <li><a class="pagination-link" id="next" aria-label="Goto page 1" href="./index?content=<%=@parameter%>&group=<%=@params%>&pagenation=<%=@pagenation%>"><%=@pagenation%></a></li>
                    <li><a class="pagination-link" id="next" aria-label="Goto page 1" href="./index?content=<%=@parameter%>&group=<%=@params%>&pagenation=<%=@pagenation+1%>"><%=@pagenation+1%></a></li>                                
                    <li><span class="pagination-ellipsis">&hellip;</span></li>                   
                </ul>
            </nav>
        </div>
    </footer>
</section>


<div id='app'>
    <div class="parent">
        <button class="item button" id="item2"><%= link_to '作成' ,new_document_path(content:params[:content]) %></button>
        <button class="item button" ref="trash" @click="TrashOn()"><ion-icon name="trash-outline"></ion-icon></button>
    </div>
    <div v-for='item in message' class="panel-block" ref="itemlist">
        <label>
            <input type="checkbox" name="options" v-model="item.checked" ref='checkbox' @click="TrashActive($event,item)" :value='item.title' :id="item.id">
            <span class="panel-icon">
                <ion-icon name="bookmark-outline"></ion-icon>
            </span>
                <a :href=item.id>{{ item.title }}</a>
        </label>
    </div>
</div>

<style>
.item{
    margin-left:10px;
    margin-top:auto;
}
.parent{
    display: flex;
    flex-wrap: wrap;
    align-items:center
    width: 600px;
    margin-bottom:10px;
}

</style>
<%= javascript_include_tag "document.js" %>
